<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Projekty</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>
<div class="container">
    <h2 th:text="#{projects.index}"></h2>

    <div class="row mb-3">
        <div class="col">
            <a href="/projects/create" class="btn btn-primary">Nowy projekt</a>
        </div>
    </div>

    <form th:action="@{/projects}" th:object="${filter}" class="row">
        <div class="col">
            <input th:field="*{name}"
                   class="form-control"
                   th:placeholder="#{projects.name}"/>
        </div>

        <div class="col">
            <select th:field="*{creator}"
                    class="form-control">
                <option th:value="${null}"
                        th:text="#{projects.creator}"
                ></option>

                <option th:each="person : ${people}"
                        th:value="${person.getId()}"
                        th:text="${person.getUserRealName()}"
                ></option>
            </select>
        </div>


        <div class="col">
            <input th:field="*{globalSearch}"
                   class="form-control"
                   th:placeholder="#{common.globalSearch}"/>
        </div>

        <div class="col">
            <button type="submit"
                    th:text="#{common.search}" class="btn btn-primary"
            ></button>
        </div>

        <div class="col">
            <a th:href="@{/projects}" th:text="#{common.clear}"></a>
        </div>

    </form>

    <div th:each="project : ${projects}">
        <div class="card mt-4">
            <h5 class="card-header">
                <span th:text="${project.name}"></span>
                <small class="text-muted">
                    <span th:text="|Created by ${project.creator.userRealName} on ${#dates.format(project.dateCreated, 'dd-MM-yyyy, HH:mm')}|"></span>
                </small>
            </h5>

            <div class="card-body">
                <p class="card-text" th:text="${project.description}"></p>
            </div>
        </div>
    </div>

</div>
</body>
</html>
